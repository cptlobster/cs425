<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Fleet</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html">Packages</a></li>
      <li class="active"><a href="fleet.html">Fleet</a></li>
      <li><a href="depots.html">Depots</a></li>
      <li><a href="tt.html">Timetable</a></li>
    </ul>
    <ul>
      <li><a href="customers.html">Customers</a></li>
      <li><a href="orders.html">Orders</a></li>
      <li><a href="transactions.html">Transactions</a></li>
    </ul>
  </nav>
  <main>
    <!-- Fleet section -->
    <h2>Fleet</h2>
    <form id="search" method="GET" action="javascript:;" onsubmit="search('fleet')">
      <input id="search_id" type="text" name="id" /><button type="submit" >Search</button></form>
    </form>
    <div id="fleet_target"></div>
    <button onclick="popup_new()">New Vehicle</button>
  </main>
  
  <!-- Popup with form -->
  <div class="over" id="over"></div>
  <div class="popup new_popup" id="new_popup">
    <h2>New Package Form</h2>
    <button class="popup_close" onclick="close_popups()">X</button>
    <form id="new_form">
      <label for="depot">Source Depot:</label>
      <select id ="depot" class="depots_dropdown" name="depot" required>
      </select><br>
      
      <label for="type">Vehicle Type:</label>
      <select id ="type" name="type" required>
        <option name="truck">Semi Truck</option>
        <option name="tandem">Tandem Semi Truck</option>
        <option name="train">Train</option>
        <option name="plane">Airplane</option>
      </select><br>
      
      <label for="capacity">Capacity</label>
      <input type="number" id="capacity" name="capacity" step="0.1" required> kg<br>
      
      <label for="range">Range:</label>
      <input type="number" id="range" name="range" step="1" required> km<br>
      
      <button type="button" onclick="insert_vehicle()">Submit Form</button>
      <button type="button" onclick="clearForm()">Clear Form</button>
    </form>
  </div>

  <div class="popup update_popup" id="update_popup">
    <h2>Update Package</h2>
    <button class="popup_close" onclick="close_popups()">X</button>
    <form id="update_form">
      <label for="update_id">ID</label>
      <input type="number" id="update_id" name="update_id" readonly required><br>
      
      <label for="depot">Depot:</label>
      <select id ="depot" class="depots_dropdown" name="depot" required>
        <option value="unchanged" selected>Unchanged</option>
      </select><br>

      <label for="capacity">Capacity: </label>
      <input type="number" id="capacity" name="capacity" step="0.1" required> kg<br>
      
      <label for="status">Status:</label>
      <select id ="status" name="status" required>
        <option value="unchanged" selected>Unchanged</option>
        <option value="stored">Parked</option>
        <option value="loading">Loading</option>
        <option value="travel">Travelling</option>
      </select><br>
      
      <button type="button" onclick="update_vehicle()">Submit Form</button>
      <button type="button" onclick="clearForm()">Clear Form</button>
    </form>
  </div>
  
  <script src = "script.js"></script>
  <script>
    setup_fleet();
    depot_dropdown();
    fleet_dropdown();
  </script>
</body>
</html>
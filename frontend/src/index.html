<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Packages</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <nav>
    <ul>
      <li class="active"><a href="index.html">Packages</a></li>
      <li><a href="fleet.html">Fleet</a></li>
      <li><a href="depots.html">Depots</a></li>
      <li><a href="tt.html">Timetable</a></li>
    </ul>
    <ul>
      <li><a href="customers.html">Customers</a></li>
      <li><a href="orders.html">Orders</a></li>
      <li><a href="transactions.html">Transactions</a></li>
    </ul>
  </nav>
  <main>
    <!-- Packages section -->
    <h2>Packages</h2>
    
    <form id="search" method="GET" action="javascript:;" onsubmit="search('index')">
      <input id="search_id" type="text" name="id" /><button type="submit" >Search</button></form>
    </form>
    <div id="packages_target"></div>
    <button onclick="popup_new()">New Package</button>
  </main>
  
  <!-- Popup with form -->
  <div class="over" id="over"></div>
  <div class="popup new_popup" id="new_popup">
    <h2>New Package Form</h2>
    <button class="popup_close" onclick="close_popups()">X</button>
    <form id="new_form">
      <label for="source">Source Depot:</label>
      <select id ="source" class="depots_dropdown" name="source" required>
      </select><br>

      <label for="destination">Destination Depot:</label>
      <select id ="destination" class="depots_dropdown" name="destination" required>
      </select><br>

      <label for="category">Category:</label>
      <input type="text" id="category" name="category" maxlength="10" required><br>
      
      <label for="weight">Weight:</label>
      <input type="number" id="weight" name="weight" step="0.1" required> kg<br>
      
      <label for="decl">Declared Value:</label>
      $<input type="number" id="decl" name="decl" step="0.01" required><br>
      
      <button type="button" onclick="insert_package()">Submit Form</button>
      <button type="button" onclick="clearForm()">Clear Form</button>
    </form>
  </div>

  <div class="popup update_popup" id="update_popup">
    <h2>Update Package</h2>
    <button class="popup_close" onclick="close_popups()">X</button>
    <form id="update_form">
      <label for="update_id">ID</label>
      <input type="number" id="update_id" name="update_id" readonly required><br>
      
      <label for="depot">Depot:</label>
      <select id ="depot" class="depots_dropdown" name="depot" required>
        <option value="unchanged" selected>Unchanged</option>
        <option value="null">Clear value</option>
      </select><br>
      
      <label for="vehicle">Vehicle:</label>
      <select id ="vehicle" class="fleet_dropdown" name="vehicle" required>
        <option value="unchanged" selected>Unchanged</option>
        <option value="null">Clear value</option>
      </select><br>

      <label for="status">Status:</label>
      <select id="status" name="status" required>
        <option value="unchanged" selected>Unchanged</option>
        <option value="stored">Stored at Depot</option>
        <option value="loading">Loading</option>
        <option value="travel">Travelling</option>
        <option value="delivered">Delivered</option>
        <option value="missing">Missing</option>
      </select><br>
      
      <button type="button" onclick="update_package()">Submit Form</button>
      <button type="button" onclick="clearForm()">Clear Form</button>
    </form>
  </div>
  
  <script src = "script.js"></script>
  <script>
    setup_packages();
    depot_dropdown();
    fleet_dropdown();
  </script>
  
</body>
</html>
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Timetable</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html">Packages</a></li>
      <li><a href="fleet.html">Fleet</a></li>
      <li><a href="depots.html">Depots</a></li>
      <li class="active"><a href="tt.html">Timetable</a></li>
    </ul>
    <ul>
      <li><a href="customers.html">Customers</a></li>
      <li><a href="orders.html">Orders</a></li>
      <li><a href="transactions.html">Transactions</a></li>
    </ul>
  </nav>
  <main>
    <!-- Fleet section -->
    <h2>Timetable</h2>
    <form id="search" method="GET" action="javascript:;" onsubmit="search('tt')">
      <input id="search_id" type="text" name="id" /><button type="submit" >Search</button></form>
    </form>
    <div id="tt_target"></div>
    <button onclick="popup_new()">New Timecard</button>
  </main>
  
  <!-- Popup with form -->
  <div class="over" id="over"></div>
  <div class="popup new_popup" id="new_popup">
    <h2>New Timecard</h2>
    <button class="popup_close" onclick="close_popups()">X</button>
    <form id="new_form">
      <label for="source">Vehicle:</label>
      <select id ="fleet" class="fleet_dropdown" name="fleet" required>
      </select><br>

      <label for="source">Source Depot:</label>
      <select id ="source" class="depots_dropdown" name="source" required>
      </select><br>
      
      <label for="dest">Destination Depot:</label>
      <select id ="dest" class="depots_dropdown" name="dest" required>
      </select><br>

      <label for="departure">Departure:</label>
      <input type="datetime-local" id="departure" name="departure" required><br />
      
      <label for="departure">Arrival:</label>
      <input type="datetime-local" id="arrival" name="arrival" required><br />
      
      <button type="button" onclick="insert_tt()">Submit Form</button>
      <button type="button" onclick="clearForm()">Clear Form</button>
    </form>
  </div>

  <div class="popup update_popup" id="update_popup">
    <h2>Update Package</h2>
    <button class="popup_close" onclick="close_popups()">X</button>
    <form id="update_form">
      <label for="update_id">ID</label>
      <input type="number" id="update_id" name="update_id" readonly required><br>
      
        <label for="fleet">Vehicle:</label>
        <select id ="fleet" class="fleet_dropdown" name="fleet" required>
          <option value="unchanged" selected>Unchanged</option>
        </select><br>
  
        <label for="source">Source Depot:</label>
        <select id ="source" class="depots_dropdown" name="source" required>
          <option value="unchanged" selected>Unchanged</option>
        </select><br>
        
        <label for="dest">Destination Depot:</label>
        <select id ="dest" class="depots_dropdown" name="dest" required>
          <option value="unchanged" selected>Unchanged</option>
        </select><br>
  
        <em>Note: It is discouraged to alter the dates directly. If there is a change in expected arrival time, use the difference field below.</em><br />
        <label for="departure">Departure:</label>
        <input type="datetime-local" id="departure" name="departure" required><br />
        
        <label for="departure">Arrival:</label>
        <input type="datetime-local" id="arrival" name="arrival" required><br />  
      
        <label for="diff_num">Difference:</label>
        <input type="number" id="diff_num" name="diff_num"><br />
        <select id="diff_unit" name="diff_unit">
          <option value="seconds">Seconds</option>
          <option value="minutes">Minutes</option>
          <option value="hours">Hours</option>
          <option value="days">Days</option>
        </select>
      <button type="button" onclick="update_tt()">Submit Form</button>
      <button type="button" onclick="clearForm()">Clear Form</button>
    </form>
  </div>
  
  <script src = "script.js"></script>
  <script>
    setup_tt();
    depot_dropdown();
    fleet_dropdown();
  </script>
</body>
</html>